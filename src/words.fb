\ Words                                                         \ Code extracted and adapted from tools.fsb                     -->                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ( Load block )                                                  forth definitions  decimal  warning off                         cr .( Loading WORDS...)  2 #screens 1- thru                     forth definitions  decimal  warning on                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ( Subroutines )                                                 : l/s ( -- n )  b/buf c/l / ;  \ lines/screen                   : esc? ( -- flag )  \ test key - space resumes                    key? dup if  key bl = if drop  key bl <> then  then ;         : .line ( line blk -- )                                           block swap  c/l *  +  c/l -trailing  type ;                   \ WORDS-LIKE WORDS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ( List words in the context vocabulary )                        : .words ( a u -- )                                               2>r  cr  0  context @  wordlist>name                            begin  esc? not and  ?dup while                                   dup name>string 2r@ ( caps ) search  -rot 2drop if                dup c@ $40 and $1D - bl max emit limit over count               $1F and + cell+ @ u< [char] | and bl max emit space             dup .id  swap 1+ swap  ( out @ 64 < if  20 out @                over mod - spaces  else  ) cr  50 ms  ( then )                then  n>name                                                  repeat  2r> 2drop  cr . ." words" ;                           : WORDS-LIKE ( "pattern" -- )  parse-name .words ;              : WORDS ( -- )  here 0 .words ;                                                                                                                                                                                                                                 