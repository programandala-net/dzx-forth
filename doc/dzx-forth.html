<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="Marcos Cruz (programandala.net)">
<title>DZX-Forth</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article">
<div id="header">
<h1>DZX-Forth</h1>
<div class="details">
<span id="author" class="author">Marcos Cruz (programandala.net)</span><br>
<span id="revdate">2016-03-21</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This is the documentation for DZX-Forth.  It is divided into three parts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A walk-through that introduces new users (even those without
previous Forth experience) to a few concepts and illustrates some of
DZX-Forth&#8217;s special features.  However, no attempt is made to teach
Forth - for this, get hold of an introductory text such as:</p>
<div class="ulist">
<ul>
<li>
<p>"Forth Programmer&#8217;s Handbook", Conklin &amp; Rather</p>
</li>
<li>
<p>"Programming Forth", Stephen Pelc</p>
</li>
<li>
<p>"And so Forth&#8230;&#8203;", J.L. Bezemer</p>
</li>
</ul>
</div>
</li>
<li>
<p>A technical section for prospective DZX-Forth programmers.  It assumes
the reader has some familiarity with the Forth language programming.</p>
</li>
<li>
<p>A glossary of DZX-Forth words.</p>
</li>
</ul>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#_overview">Overview</a></li>
<li><a href="#_distribution_files">Distribution files</a></li>
<li><a href="#_acknowledgments">Acknowledgments</a></li>
<li><a href="#_legal">Legal</a></li>
<li><a href="#_installation">Installation</a></li>
<li><a href="#_getting_started">Getting started</a></li>
<li><a href="#_source_files">Source files</a></li>
<li><a href="#_screen_editor">Screen editor</a></li>
<li><a href="#_command_line_interface">Command-line interface</a></li>
<li><a href="#_machine_code_assembler">Machine code assembler</a></li>
<li><a href="#_increasing_system_space">Increasing System space</a></li>
<li><a href="#_further_suggestions">Further suggestions</a></li>
<li><a href="#_error_messages">Error messages</a></li>
</ul>
</li>
<li><a href="#_programming_reference">Programming reference</a>
<ul class="sectlevel2">
<li><a href="#_file_system">File system</a></li>
<li><a href="#_application_and_system_words">Application and System words</a></li>
<li><a href="#_executing_applications">Executing applications</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview">Overview</h3>
<div class="paragraph">
<p>DZX-Forth is a Forth language compiler and development system for
ZX Spectrum and compatible systems.
It is intended to be a complete, easy to use, programming tool for
the creation of ZX Spectrum applications.</p>
</div>
<div class="paragraph">
<p>DZX-Forth&#8217;s features include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Forth-94 Standard (see below)</p>
</li>
<li>
<p>Fast direct-threaded code</p>
</li>
<li>
<p>Generate turnkey applications without compiler overhead</p>
</li>
<li>
<p>Fast floating point and trigonometric functions</p>
</li>
<li>
<p>Forth-94 Standard disk I/O</p>
</li>
<li>
<p>DU: style filenames for access to all CP/M user areas</p>
</li>
<li>
<p>Multitasking</p>
</li>
<li>
<p>Overlays for large applications</p>
</li>
<li>
<p>8080/Z80 Forth assembler for CODE words</p>
</li>
<li>
<p>Full source code included</p>
<div class="ulist">
<ul>
<li>
<p>DZX-Forth currently lacks appropriate documentation to qualify for
ANS FORTH compliance. Some ANS optional wordset functions may also
be missing.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_distribution_files">Distribution files</h3>
<div class="paragraph">
<p>See &lt;files.txt&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="_acknowledgments">Acknowledgments</h3>
<div class="paragraph">
<p>No software is written in a vacuum. DZX-Forth is a fork of CP/M
DX-Forth 4.09, and takes ideas and code from other Forth systems and
ZX Spectrum programs.  Code copied from or inspired by other programs
is always acknowledged in the source.</p>
</div>
<div class="paragraph">
<p>The author wishes to gratefully acknowledge all those in the Forth and
ZX Spectrum communities who have generously made their source code and
documentation available for public scrutiny.  Without these to serve
as a starting point and source for ideas, DZX-Forth would not have
been written.</p>
</div>
<div class="paragraph">
<p>Beside DX-Forth, DZX-Forth took XXX</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ZX Spectrum Forth-83 System, by Lennart Benschop (1988)</p>
</li>
<li>
<p>Z80 CamelForth, by XXX</p>
</li>
<li>
<p>Z88 CamelForth, by XXX</p>
</li>
<li>
<p>Z80 eForth, by XXX</p>
</li>
<li>
<p>Z88 FORTH, by Salvador Merino (1990)</p>
</li>
<li>
<p>Gforth by XXX</p>
</li>
<li>
<p>Abersoft Forth, by John Jones-Steele (1983).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_legal">Legal</h3>
<div class="paragraph">
<p>DZX-Forth and all the files in this distribution (apart from excerpts
taken from the Forth-83 and ANS Forth documents) are hereby placed into
the PUBLIC DOMAIN by the author.  As a public domain work, no copyright
restrictions apply or may be subsequently imposed.</p>
</div>
<div class="paragraph">
<p>DZX-Forth is an experimental software and is provided without support or
warranty.  The author makes no guarantee as to fitness for purpose, nor
assumes liability for any error, omission, damage or loss caused by the
use of DZX-Forth.  Anyone wishing to use this software does so entirely
at his or her own risk.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installation">Installation</h3>

</div>
<div class="sect2">
<h3 id="_getting_started">Getting started</h3>
<div class="paragraph">
<p>Several versions of the DZX-Forth compiler are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">dzxforth.tap </dt>
<dd>
<p>The forth compiler kernel.  It includes everything required to load
and compile forth source files.</p>
</dd>
<dt class="hdlist1">dzxforth_float.tap </dt>
<dd>
<p>Same as &lt;dzxforth.tap&gt; but includes software floating point and
trigonometric functions.  These increase the size of the kernel by
approximately 2.5 KiB.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>First load Forth by opening the desired TAP file with your ZX Spectrum
emulator and then</p>
</div>
<div class="literalblock">
<div class="content">
<pre>LOAD ""</pre>
</div>
</div>
<div class="paragraph">
<p>You will be greeted with DZX-Forth&#8217;s start-up screen showing the
version number and compilation date.  If you executed the version with
floating point support, you will also be informed that the floating
point functions are available.</p>
</div>
<div class="paragraph">
<p>Now type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>FYI</pre>
</div>
</div>
<div class="paragraph">
<p>"For Your Information".  It displays information about the current
Forth environment including dictionary size, vocabularies, logged
drive and open screenfiles.</p>
</div>
<div class="paragraph">
<p>To see the names of all Forth functions in the dictionary, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>WORDS</pre>
</div>
</div>
<div class="paragraph">
<p>Press any key to stop the display or &lt;space&gt; to pause.  If you want
to see only word names that contain the sequence 'MOD' then type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>WORDS-LIKE MOD</pre>
</div>
</div>
<div class="paragraph">
<p>You will notice some words are accompanied by an attribute.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
\# 
</td>
<td class="hdlist2">
<p>indicates the word is immediate.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\| 
</td>
<td class="hdlist2">
<p>indicates the word resides in the System dictionary. // XXX OLD</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Forth users will be familiar with IMMEDIATE words.  SYSTEM words are
peculiar to DZX-Forth and are explained in the programming section.</p>
</div>
<div class="paragraph">
<p>You can capture screen output to a printer e.g.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>PRINTER  WORDS</pre>
</div>
</div>
<div class="paragraph">
<p>then restore output to the console with</p>
</div>
<div class="literalblock">
<div class="content">
<pre>CONSOLE</pre>
</div>
</div>
<div class="paragraph">
<p>Adding a new function to forth&#8217;s dictionary is easy.  Let&#8217;s try the
ubiquitous 'hello world' program.  Type the following paying
attention to the space between  ."  and  Hello .</p>
</div>
<div class="literalblock">
<div class="content">
<pre>: HELLO-WORLD ." Hello world" ;</pre>
</div>
</div>
<div class="paragraph">
<p>If you make a mistake entering text you may use the backspace key
&lt;BS&gt; to delete the previous character, or escape key &lt;ESC&gt; to erase
the entire line.</p>
</div>
<div class="paragraph">
<p>Spaces are important to Forth as they distinguish elements within a
Forth statement.  Forth syntax is very simple - a Forth statement
consists of functions or numbers separated by one or more spaces.
In the example above  :  ."  ;  each represents a distinct Forth
function.</p>
</div>
<div class="paragraph">
<p>You have just compiled a new function or 'word' called HELLO-WORLD.
Now type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>WORDS</pre>
</div>
</div>
<div class="paragraph">
<p>This lists all words in the current vocabulary.  &lt;SPACE&gt; may be used
to pause/resume the listing or &lt;ESC&gt; to stop.  Note that HELLO-WORLD
appears at the top of the list since it was the most recent addition
to the dictionary.</p>
</div>
<div class="paragraph">
<p>Now execute HELLO-WORLD by typing its name.  It should display the
text</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Hello world</pre>
</div>
</div>
<div class="paragraph">
<p>Should you need to enter a quote character '"' within a quote-
delimited string, this may be done by entering it twice e.g.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>S" this text includes ""quote"" marks" CR TYPE</pre>
</div>
</div>
<div class="paragraph">
<p>produces</p>
</div>
<div class="literalblock">
<div class="content">
<pre>this text includes "quote" marks</pre>
</div>
</div>
<div class="paragraph">
<p>Removing a word from the dictionary is even easier.  Type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>FORGET HELLO-WORLD</pre>
</div>
</div>
<div class="paragraph">
<p>This discards HELLO-WORLD &#8230;&#8203; and any Forth word you defined after
it!  Use WORDS to check that HELLO-WORLD was deleted.</p>
</div>
<div class="paragraph">
<p>Perhaps you would like to save HELLO-WORLD as your first turnkey DOS
application.  To do this, re-enter the HELLO-WORLD definition if you
discarded it.  Once you have tested it to make sure that it works as
expected, save it to disk with</p>
</div>
<div class="literalblock">
<div class="content">
<pre>TURNKEY HELLO-WORLD HELLO</pre>
</div>
</div>
<div class="paragraph">
<p>If you now type  DIR  you should see HELLO.COM in the disk directory.
Note: you may optionally specify a filename with DIR.  Wildcards are
accepted e.g. DIR *.COM</p>
</div>
<div class="paragraph">
<p>Now - the most important thing you should know - how to get out of
Forth and back to DOS.  Do this now by typing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>BYE</pre>
</div>
</div>
<div class="paragraph">
<p>Now that you are back in DOS you may try out your new HELLO program.
You will note that HELLO.COM executable is considerably smaller in
size than the FORTH.COM used to create it.  This illustrates one of
DZX-Forth&#8217;s features - turnkey applications may be saved without the
compiler and word headers.  The benefit is that applications take
less disk space, are quicker to load, and have more free memory
available to them when they execute.</p>
</div>
</div>
<div class="sect2">
<h3 id="_source_files">Source files</h3>
<div class="paragraph">
<p>Forth has traditionally used 'blocks' for mass storage.  Blocks may
hold any type of data including text.  In DZX-Forth, blocks are used
primarily to store Forth program source.  Each 'screen' (the name
given to blocks that hold Forth text) represents 1024 bytes of data
organized as 16 lines of 64 characters each.  DZX-Forth screens are
saved as conventional DOS disk files and are distinguished by a .FB
filetype (some Forths use .SCR or .BLK as the filetype).</p>
</div>
<div class="paragraph">
<p>DZX-Forth also supports Forth source in standard text files.  To load
and compile such a file, use:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>INCLUDE filename[.FS]</pre>
</div>
</div>
<div class="paragraph">
<p>If no filetype is given then .FS is assumed.  Another form is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>S" filename[.FS]" INCLUDED  ( Forth-94 Standard )</pre>
</div>
</div>
<div class="paragraph">
<p>Forth source files (text or screen) may be nested to the default
maximum of 6.</p>
</div>
</div>
<div class="sect2">
<h3 id="_screen_editor">Screen editor</h3>
<div class="paragraph">
<p>Screen files require a special text editor.  DZX-Forth includes such
an editor in the form of EDITOR.SCR.  The editor is automatically
loaded and run by FORTH.COM or FORTH-F.COM by typing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>n EDIT</pre>
</div>
</div>
<div class="paragraph">
<p>where n is the screen number to be edited.  If n is omitted and the
data stack is empty then the editor will use the last LISTed, or if
an error occured, the screen that caused the error.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The full-screen editor requires FORTH.COM (or FORTH-F.COM) be
properly installed for your terminal (see section 5) as it makes use
of the clear-screen, clear to end-of-line and cursor motion terminal
codes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you have a slow computer or are working from a floppy disk then
it will be convenient to save a version of Forth where the editor is
permanently loaded.  Let&#8217;s do this now.</p>
</div>
<div class="paragraph">
<p>From the DOS prompt, load Forth and open &lt;editor.fs&gt;</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A&gt;FORTH-F EDITOR  ( if no filetype is given .SCR is assumed )</pre>
</div>
</div>
<div class="paragraph">
<p>Forth will boot-up with the message 'Using EDITOR.SCR'.  Alternately,
open &lt;editor.fs&gt; from within Forth with</p>
</div>
<div class="literalblock">
<div class="content">
<pre>USING EDITOR</pre>
</div>
</div>
<div class="paragraph">
<p>In DX-FORTH the most recently opened screenfile is termed the
'current' file and all screen and block commands operate on it.
CLOSE closes the 'current' screenfile.  SWAP-FILE permits users
to switch between two open screenfiles.</p>
</div>
<div class="paragraph">
<p>Once &lt;editor.fs&gt; has been opened, you may view the contents of the
file with the LIST command.  0 LIST  displays screen 0,  1 LIST
displays screen 1 etc.  The following shortcuts are provided:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>L  ( -- )   (L)ist the current screen
N  ( -- )   list the (N)ext screen
B  ( -- )   list the previous screen i.e. (B)ack</pre>
</div>
</div>
<div class="paragraph">
<p>Line 0 of each screen is called the index line and it traditionally
contains a comment indicating the contents of the screen.  Typing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>0 QX</pre>
</div>
</div>
<div class="paragraph">
<p>displays a 'quick index' of 60 screens starting at 0.</p>
</div>
<div class="paragraph">
<p>To list screens to a printer one could use</p>
</div>
<div class="literalblock">
<div class="content">
<pre>PRINTER  0 LIST  1 LIST  2 LIST  CONSOLE</pre>
</div>
</div>
<div class="paragraph">
<p>or more simply</p>
</div>
<div class="literalblock">
<div class="content">
<pre>0 2 SHOW</pre>
</div>
</div>
<div class="paragraph">
<p>which prints screens 0 to 2 at three screens per page.</p>
</div>
<div class="paragraph">
<p>To print all the screens in a source file, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>LISTING</pre>
</div>
</div>
<div class="paragraph">
<p>Now compile the editor into the dictionary with</p>
</div>
<div class="literalblock">
<div class="content">
<pre>1 LOAD</pre>
</div>
</div>
<div class="paragraph">
<p>Once loading has completed, typing WORDS will show new commands have
been added to the dictionary.  In addition, FYI reveals some system
memory has been consumed and there is now a new vocabulary in addition
to FORTH - the EDITOR vocabulary.  If you are curious to see what is
in the EDITOR vocabulary, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>EDITOR WORDS</pre>
</div>
</div>
<div class="paragraph">
<p>Now that the editor has been loaded, let&#8217;s make it permanent by saving
it and the current contents of the Forth dictionary as a new executable</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SAVE DX.COM  ( if no filetype is given .COM is assumed )</pre>
</div>
</div>
<div class="paragraph">
<p>(Note: The supplied executable DX.COM has the screen editor preloaded
so you may omit the above step.)</p>
</div>
<div class="paragraph">
<p>For details on using the editor, refer to the &lt;editor.txt&gt; documentation
file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_command_line_interface">Command-line interface</h3>
<div class="paragraph">
<p>DZX-Forth allows file opening and command processing from the DOS command
line.  The syntax is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A:&gt; FORTH  item1 item2 ... itemn</pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>item1           filename to be opened (assumed suffix is .SCR)
item2...itemn   Forth command(s) to be executed</pre>
</div>
</div>
<div class="paragraph">
<p>Once the command sequence is completed, the DZX-Forth sign-on message
appears and control passes to the user.</p>
</div>
<div class="paragraph">
<p>To bypass file opening, replace item1 with a '-' character.</p>
</div>
<div class="paragraph">
<p>Including BYE at the end of the command sequence will cause an immediate
return to DOS.  This can be very useful and allows use of the Forth
compiler within DOS batch files.</p>
</div>
</div>
<div class="sect2">
<h3 id="_machine_code_assembler">Machine code assembler</h3>
<div class="paragraph">
<p>Although threaded-code Forth generates code that is compact and quite
fast - up to 10 times faster than interpreted BASIC - there may be
occasion when the full speed of machine code is required.</p>
</div>
<div class="paragraph">
<p>The assembler provided with DZX-Forth allows writing of Forth 'code'
words.  Code words are simply machine language routines that end with
a jump to NEXT.  Documentation for the assembler may be found in the
file ASM.TXT.</p>
</div>
</div>
<div class="sect2">
<h3 id="_increasing_system_space">Increasing System space</h3>
<div class="paragraph">
<p>The FORTH and FORTH-F executables are supplied with tools and assembler
installed.  If either are not required, the System dictionary space may
be increased accordingly.  To facilitate this, two marker words are
provided:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>-TOOLS  removes the tools and all subsequent words.
-ASM    removes the assembler and all subsequently defined words.</pre>
</div>
</div>
<div class="paragraph">
<p>E.g. To remove TOOLS type the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>CHECKING OFF  FORGET -TOOLS  CHECKING ON</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_further_suggestions">Further suggestions</h3>
<div class="paragraph">
<p>If you have worked your way through the previous sections - you now
know how to look around DZX-Forth, list and compile Forth screen files,
save new versions of Forth and create turnkey applications.</p>
</div>
<div class="paragraph">
<p>If this is your first encounter with Forth, I hope this brief tour
through DZX-Forth will encourage you to look further.  Get a book on
Forth and learn it - Forth really is EASY!</p>
</div>
<div class="paragraph">
<p>The best way to learn Forth (or any language) is by studying examples.
Several simple applications have been provided with DZX-Forth.  When
you encounter a Forth word with which you are unfamiliar, find its
definition in the Forth-94 Standard (draft version freely available
on the internet) or the DZX-Forth glossary if not a Standard word.</p>
</div>
<div class="paragraph">
<p>A sample filecopy program FCOPY is provided in source form.  As well
as illustrating a complete Forth application, it also serves as a
primer on using DZX-Forth&#8217;s file functions.  It will show you how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>get arguments from the DOS command line</p>
</li>
<li>
<p>create file-handles and assign file-buffers</p>
</li>
<li>
<p>open disk files</p>
</li>
<li>
<p>read data from a disk file</p>
</li>
<li>
<p>write data to a disk file</p>
</li>
<li>
<p>close disk files</p>
</li>
<li>
<p>handle errors</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Routines may be extracted for your own use or the entire program can
serve as the basis for a more complex one.</p>
</div>
<div class="paragraph">
<p>&lt;newapp.fs&gt; is a skeletal program that allows users to quickly develop
DOS applications.  Using &lt;doslib.fs&gt; it provides access to DOS functions
and routine tasks such as command-line parsing and buffered I/O.  See
&lt;newapp.txt&gt; for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_error_messages">Error messages</h3>
<div class="sect3">
<h4 id="_compiler_error_messages">Compiler error messages</h4>
<div class="listingblock">
<div class="content">
<pre>"block out of range"          Attempt to access a block past end of
                              file.
"block r/w error"             Error encountered during a block read or
                              write operation.
"no file open"                File operation was requested but no file
                              was open.
"can't open file"             File not found or write-protected.
"can't create file"           Existing file write-protected or disk full.
"can't delete file"           File not found or write-protected.
"can't resize file"           File not found or write-protected.
"can't rename file"           File exists, not found or write-protected.
"can't save file"             Error occurred during save (probably disk
                              full).
"compilation only"            Use only during compilation.
"execution only"              Use only during execution.
"loading only"                Use only during loading.
"definition unbalanced"       Definition is not properly formed e.g.
                              conditional statements (IF ELSE THEN etc)
                              were incorrectly used or the data stack level
                              changed.
"is protected"                Word is located in protected dictionary.
"is alias"                    Operation on alias not allowed e.g. FORGET.
"invalid name"                Word name length outside the range 1 to 31
                              characters.
"specify filename"            A filename is required but none was given.
"too many files"              Exceeded maximum number of open source files.
"is redefined"                Definition with the same name already exists.
                              Note: this is a warning - not an error.
"is system"                   A System word is being compiled into the
                              Application dictionary. See section 2.2
                              Note: aliases will be displayed using the
                              primary name.
"is undefined"                Word could not be found in the dictionary
                              using the current search order, or was not
                              a valid number.
"no header space"             Header dictionary full.
"stack?"                      Data stack under/overflow.
"r-stack?"                    Return stack under/overflow.
"f-stack?"                    Floating point stack under/overflow.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_run_time_error_messages">Run-time error messages</h4>
<div class="paragraph">
<p>Apart from those listed below, DZX-Forth does not perform run-time error
checking.  It is the responsibility of the application programmer to
include error checking appropriate to the task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"numeric buffer overflow"     The string being built in the pictured numeric
                              output buffer exceeded the buffer size.
"undefined vector"            A DEFERed word was defined but never
                              initialized with IS.
"exception = [n]"             Exception error code n was executed. See
                              section 2.12 for a list of system and DOS
                              codes. Application-defined error codes are
                              typically represented by a positive number.
"no data space"               Data space or dictionary full.
"not enough RAM"              Insufficient DOS memory.
"wrong DOS version"           Requires DOS version 2.x or later.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_assembler_error_messages">Assembler error messages</h4>
<div class="listingblock">
<div class="content">
<pre>"definition unbalanced"       Definition is not properly formed.
"duplicate label"             Label number was previously used.
"execution only"              Word may be used only during execution.
"invalid label"               Incorrect label number or too many labels
                              used.
"branch out of range"         Exceeded the range of a short relative
                              branch (128 bytes).
"too many references"         Exceeded the maximum number of forward
                              references to labels.
"unresolved reference"        A label was referenced but never defined.</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_programming_reference">Programming reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains programming and technical information specific
to DZX-Forth.</p>
</div>
<div class="sect2">
<h3 id="_file_system">File system</h3>
<div class="paragraph">
<p>DZX-Forth used ANS FORTH disk file management.</p>
</div>
<div class="paragraph">
<p>The maximum number of open files is 10.  If more file handles are
needed the number may be increased as follows e.g.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>20 TO #FCB  COLD</pre>
</div>
</div>
<div class="paragraph">
<p>This will change the maximum number of handles to 20.</p>
</div>
</div>
<div class="sect2">
<h3 id="_application_and_system_words">Application and System words</h3>
<div class="paragraph">
<p>When a word is compiled into DZX-Forth, it is added to either the
Application dictionary or the System dictionary.</p>
</div>
<div class="paragraph">
<p>The above implies that DZX-Forth uses two dictionaries.  In actuality,
there is only one dictionary physically divided into two parts.  It
is this physical partitioning that enables DZX-Forth to generate small
turnkey applications, free of compiler overhead.</p>
</div>
<div class="paragraph">
<p>Executing the words APPLICATION or SYSTEM causes all subsequent
definitions to be compiled into the corresponding dictionary segment.
The word FYI shows the current compilation dictionary and statistics.</p>
</div>
<div class="paragraph">
<p>The 'application' dictionary contains words (less their headers) that
are available for use by either TURNKEY applications or by the Forth
compiler.</p>
</div>
<div class="paragraph">
<p>The 'system' dictionary contains words that are used exclusively by the
Forth compiler.  Headers of Forth words are located in their own
segment.  System words and headers are NOT saved during the generation
of TURNKEY applications.</p>
</div>
<div class="paragraph">
<p>To see which words are System or Application, type WORDS.  If the word
is displayed with a bold attribute (usually blue), then it resides in
the System dictionary otherwise it resides in the Application dictionary.</p>
</div>
<div class="paragraph">
<p>Compiling SYSTEM words</p>
</div>
<div class="paragraph">
<p>Under no circumstances should an application compiled with TURNKEY be
allowed to execute a System word.  Attempting to do so will result in
unpredictable behaviour and failure of the application.</p>
</div>
<div class="paragraph">
<p>To assist users from inadvertently compiling System words into TURNKEY
applications, DZX-Forth will issue a warning message should this be
attempted (assuming WARNING has not been disabled).</p>
</div>
<div class="paragraph">
<p>Applications saved with TURNKEY-SYSTEM may safely ignore System warnings
as the entire Forth dictionary including compiler and headers is saved.</p>
</div>
<div class="paragraph">
<p>Spurious SYSTEM warnings</p>
</div>
<div class="paragraph">
<p>It is possible to receive a System warning message that is neither an
error condition, nor results in failure of the turnkey application.
Typically it occurs during the compilation of defining words e.g.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>APPLICATION  WARNING ON</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>: BYTE-CONSTANT
  CREATE C,  DOES&gt; C@  ;</pre>
</div>
</div>
<div class="paragraph">
<p>Compiling the above causes the following message to appear</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"CREATE is system  C, is system  (;CODE) is system"</pre>
</div>
</div>
<div class="paragraph">
<p>DZX-Forth is warning the user that words CREATE C, (;CODE) are System
words and are being compiled into the Application dictionary.</p>
</div>
<div class="paragraph">
<p>The reason this will NOT cause the application to fail is that the
words between CREATE and DOES&gt; inclusive represent the "compiling" part
of the defining word.  This part is executed only during compilation
- never when the application is run.</p>
</div>
<div class="paragraph">
<p>To disable spurious System warning messages one may use WARNING OFF or
precede the offending definition with -? which will turn off WARNING
for that definition only.</p>
</div>
<div class="paragraph">
<p>Tip: For an alternative way of creating defining words which avoids the
peculiarities of CREATE &#8230;&#8203; DOES&gt; see BUILD in the glossary.</p>
</div>
</div>
<div class="sect2">
<h3 id="_executing_applications">Executing applications</h3>
<div class="paragraph">
<p>Applications can often be fully tested and debugged from within the
Forth environment.  However when they are eventually TURNKEYed and
executed from the DOS command-line, there will be differences of which
the programmer should be aware:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The amount of unused memory available to an application will vary
depending on whether it is run from within Forth or from the DOS
command-line.  UNUSED may be used by applications to determine how
much free memory is currently available.</p>
</li>
<li>
<p>The memory region at $5C and $80 (DOS default FCB and DMA buffer) is
overwritten by the Forth compiler during DIR, RENAME, INCLUDE etc.
Otherwise, this region is unaffected and may be used by turnkey
applications to interrogate the DOS command-line.</p>
</li>
<li>
<p>Functions INIT-VIDEO and EXIT-VIDEO are not automatically executed
by TURNKEY applications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>//// XXX OLD
=== User Patch area</p>
</div>
<div class="paragraph">
<p>A user patch area consisting of five bytes has been reserved
exclusively for use by applications.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">User Patch</th>
<th class="tableblock halign-left valign-top">Address</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">267 (010Bh)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">268 (010Ch)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">269 (010Dh)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">270 (010Eh)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">271 (010Fh)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This area may be used for any purpose by an application.  Possible
uses include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hardwiring an application program&#8217;s options or configuration.</p>
</li>
<li>
<p>contain the address of a user&#8217;s D-A port address.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-03-21 19:22:08 CET
</div>
</div>
</body>
</html>